<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    
    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="Colors.xaml"/>
    </ResourceDictionary.MergedDictionaries>

    <!-- Modern Button Style -->
    <Style x:Key="ModernButton" TargetType="Button">
        <Setter Property="Background" Value="{StaticResource SecondaryBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource PrimaryTextBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Padding" Value="16,8"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="FontWeight" Value="Normal"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="4">
                        <ContentPresenter HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Margin="{TemplateBinding Padding}"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="{StaticResource HoverBrush}"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter Property="Background" Value="{StaticResource PressedBrush}"/>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Background" Value="{StaticResource DisabledBrush}"/>
                            <Setter Property="Foreground" Value="{StaticResource DisabledTextBrush}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Primary Button Style -->
    <Style x:Key="PrimaryButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
        <Setter Property="Background" Value="{StaticResource PrimaryBrush}"/>
        <Setter Property="Foreground" Value="White"/>
        <Setter Property="BorderBrush" Value="{StaticResource PrimaryBrush}"/>
    </Style>

    <!-- Secondary Button Style -->
    <Style x:Key="SecondaryButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
    </Style>

    <!-- Modern TextBox Style -->
    <Style x:Key="ModernTextBox" TargetType="TextBox">
        <Setter Property="Background" Value="{StaticResource BackgroundBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource PrimaryTextBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Padding" Value="12,8"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="MinHeight" Value="36"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="TextBox">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="4">
                        <ScrollViewer x:Name="PART_ContentHost"
                                    Margin="{TemplateBinding Padding}"
                                    VerticalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsFocused" Value="True">
                            <Setter Property="BorderBrush" Value="{StaticResource PrimaryBrush}"/>
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="BorderBrush" Value="{StaticResource HoverBorderBrush}"/>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Background" Value="{StaticResource DisabledBrush}"/>
                            <Setter Property="Foreground" Value="{StaticResource DisabledTextBrush}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Modern CheckBox Style -->
    <Style x:Key="ModernCheckBox" TargetType="CheckBox">
        <Setter Property="Foreground" Value="{StaticResource PrimaryTextBrush}"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="VerticalContentAlignment" Value="Center"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="CheckBox">
                    <StackPanel Orientation="Horizontal">
                        <Border x:Name="CheckBoxBorder"
                                Width="18"
                                Height="18"
                                Background="{StaticResource BackgroundBrush}"
                                BorderBrush="{StaticResource BorderBrush}"
                                BorderThickness="1"
                                CornerRadius="3"
                                Margin="0,0,8,0">
                            <Path x:Name="CheckMark"
                                  Data="M 2 6 L 6 10 L 14 2"
                                  Stroke="{StaticResource PrimaryBrush}"
                                  StrokeThickness="2"
                                  Visibility="Collapsed"/>
                        </Border>
                        <ContentPresenter VerticalAlignment="Center"/>
                    </StackPanel>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsChecked" Value="True">
                            <Setter TargetName="CheckMark" Property="Visibility" Value="Visible"/>
                            <Setter TargetName="CheckBoxBorder" Property="Background" Value="{StaticResource PrimaryBrush}"/>
                            <Setter TargetName="CheckBoxBorder" Property="BorderBrush" Value="{StaticResource PrimaryBrush}"/>
                            <Setter TargetName="CheckMark" Property="Stroke" Value="White"/>
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="CheckBoxBorder" Property="BorderBrush" Value="{StaticResource HoverBorderBrush}"/>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="CheckBoxBorder" Property="Background" Value="{StaticResource DisabledBrush}"/>
                            <Setter Property="Foreground" Value="{StaticResource DisabledTextBrush}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Modern RadioButton Style -->
    <Style x:Key="ModernRadioButton" TargetType="RadioButton">
        <Setter Property="Foreground" Value="{StaticResource PrimaryTextBrush}"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="VerticalContentAlignment" Value="Center"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="RadioButton">
                    <StackPanel Orientation="Horizontal">
                        <Border x:Name="RadioBorder"
                                Width="18"
                                Height="18"
                                Background="{StaticResource BackgroundBrush}"
                                BorderBrush="{StaticResource BorderBrush}"
                                BorderThickness="1"
                                CornerRadius="9"
                                Margin="0,0,8,0">
                            <Ellipse x:Name="RadioDot"
                                     Width="8"
                                     Height="8"
                                     Fill="{StaticResource PrimaryBrush}"
                                     Visibility="Collapsed"/>
                        </Border>
                        <ContentPresenter VerticalAlignment="Center"/>
                    </StackPanel>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsChecked" Value="True">
                            <Setter TargetName="RadioDot" Property="Visibility" Value="Visible"/>
                            <Setter TargetName="RadioBorder" Property="BorderBrush" Value="{StaticResource PrimaryBrush}"/>
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="RadioBorder" Property="BorderBrush" Value="{StaticResource HoverBorderBrush}"/>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="RadioBorder" Property="Background" Value="{StaticResource DisabledBrush}"/>
                            <Setter Property="Foreground" Value="{StaticResource DisabledTextBrush}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Modern DataGrid Style - 简化版本，保持数据显示功能 -->
    <Style x:Key="ModernDataGrid" TargetType="DataGrid">
        <Setter Property="Background" Value="{StaticResource BackgroundBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource PrimaryTextBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="GridLinesVisibility" Value="Horizontal"/>
        <Setter Property="HorizontalGridLinesBrush" Value="{StaticResource BorderBrush}"/>
        <Setter Property="RowBackground" Value="Transparent"/>
        <Setter Property="AlternatingRowBackground" Value="{StaticResource SecondaryBrush}"/>
        <Setter Property="HeadersVisibility" Value="Column"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="RowHeight" Value="40"/>
    </Style>

    <!-- Card Container Style -->
    <Style x:Key="CardContainer" TargetType="Border">
        <Setter Property="Background" Value="{StaticResource BackgroundBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="CornerRadius" Value="8"/>
        <Setter Property="Padding" Value="20"/>
        <Setter Property="Margin" Value="0,0,0,16"/>
        <Setter Property="Effect" Value="{StaticResource CardShadow}"/>
    </Style>

    <!-- Setting Label Style -->
    <Style x:Key="SettingLabel" TargetType="Label">
        <Setter Property="Foreground" Value="{StaticResource PrimaryTextBrush}"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="FontWeight" Value="Medium"/>
        <Setter Property="Margin" Value="0,0,0,8"/>
    </Style>

    <!-- Modern ComboBox Style -->
    <Style x:Key="ModernComboBox" TargetType="ComboBox" BasedOn="{StaticResource {x:Type ComboBox}}">
        <Setter Property="Background" Value="{StaticResource BackgroundBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource PrimaryTextBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Padding" Value="12,8"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="MinHeight" Value="36"/>
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="BorderBrush" Value="{StaticResource HoverBorderBrush}"/>
            </Trigger>
            <Trigger Property="IsFocused" Value="True">
                <Setter Property="BorderBrush" Value="{StaticResource PrimaryBrush}"/>
            </Trigger>
        </Style.Triggers>
    </Style>

    <!-- Language ComboBox Style -->
    <Style x:Key="LanguageComboBox" TargetType="ComboBox" BasedOn="{StaticResource ModernComboBox}">
        <Setter Property="ItemContainerStyle">
            <Setter.Value>
                <Style TargetType="ComboBoxItem" BasedOn="{StaticResource {x:Type ComboBoxItem}}">
                    <Setter Property="Padding" Value="12,8"/>
                    <Setter Property="FontSize" Value="14"/>
                    <Setter Property="ContentTemplate">
                        <Setter.Value>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <!-- 语言图标/国旗 -->
                                    <Border x:Name="LanguageIcon"
                                            Background="{StaticResource AccentBrush}"
                                            CornerRadius="3"
                                            Width="20"
                                            Height="20"
                                            Margin="0,0,8,0">
                                        <TextBlock x:Name="LanguageIconText"
                                                Text="🌐"
                                                FontSize="10"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"/>
                                    </Border>
                                    
                                    <!-- 语言名称 -->
                                    <TextBlock Text="{Binding}"
                                            VerticalAlignment="Center"/>
                                </StackPanel>
                                <DataTemplate.Triggers>
                                    <!-- 根据不同语言设置图标 -->
                                    <DataTrigger Binding="{Binding}" Value="简体中文">
                                        <Setter TargetName="LanguageIconText" Property="Text" Value="🇨🇳"/>
                                        <Setter TargetName="LanguageIcon" Property="Background" Value="#DE2910"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding}" Value="繁體中文">
                                        <Setter TargetName="LanguageIconText" Property="Text" Value="🇹🇼"/>
                                        <Setter TargetName="LanguageIcon" Property="Background" Value="#FE0000"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding}" Value="English">
                                        <Setter TargetName="LanguageIconText" Property="Text" Value="🇺🇸"/>
                                        <Setter TargetName="LanguageIcon" Property="Background" Value="#B22234"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding}" Value="日本語">
                                        <Setter TargetName="LanguageIconText" Property="Text" Value="🇯🇵"/>
                                        <Setter TargetName="LanguageIcon" Property="Background" Value="#BC002D"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding}" Value="한국어">
                                        <Setter TargetName="LanguageIconText" Property="Text" Value="🇰🇷"/>
                                        <Setter TargetName="LanguageIcon" Property="Background" Value="#CD2E3A"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding}" Value="Français">
                                        <Setter TargetName="LanguageIconText" Property="Text" Value="🇫🇷"/>
                                        <Setter TargetName="LanguageIcon" Property="Background" Value="#0055A4"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding}" Value="Deutsch">
                                        <Setter TargetName="LanguageIconText" Property="Text" Value="🇩🇪"/>
                                        <Setter TargetName="LanguageIcon" Property="Background" Value="#000000"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding}" Value="Español">
                                        <Setter TargetName="LanguageIconText" Property="Text" Value="🇪🇸"/>
                                        <Setter TargetName="LanguageIcon" Property="Background" Value="#AA151B"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding}" Value="Русский">
                                        <Setter TargetName="LanguageIconText" Property="Text" Value="🇷🇺"/>
                                        <Setter TargetName="LanguageIcon" Property="Background" Value="#0039A6"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding}" Value="Português">
                                        <Setter TargetName="LanguageIconText" Property="Text" Value="🇵🇹"/>
                                        <Setter TargetName="LanguageIcon" Property="Background" Value="#046A38"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding}" Value="Italiano">
                                        <Setter TargetName="LanguageIconText" Property="Text" Value="🇮🇹"/>
                                        <Setter TargetName="LanguageIcon" Property="Background" Value="#009246"/>
                                    </DataTrigger>
                                    <!-- 通用语言选项 -->
                                    <DataTrigger Binding="{Binding}" Value="中文">
                                        <Setter TargetName="LanguageIconText" Property="Text" Value="中"/>
                                        <Setter TargetName="LanguageIcon" Property="Background" Value="#DE2910"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding}" Value="英文">
                                        <Setter TargetName="LanguageIconText" Property="Text" Value="EN"/>
                                        <Setter TargetName="LanguageIcon" Property="Background" Value="#B22234"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding}" Value="日文">
                                        <Setter TargetName="LanguageIconText" Property="Text" Value="日"/>
                                        <Setter TargetName="LanguageIcon" Property="Background" Value="#BC002D"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding}" Value="韩文">
                                        <Setter TargetName="LanguageIconText" Property="Text" Value="한"/>
                                        <Setter TargetName="LanguageIcon" Property="Background" Value="#CD2E3A"/>
                                    </DataTrigger>
                                </DataTemplate.Triggers>
                            </DataTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Model ComboBox Style -->
    <Style x:Key="ModelComboBox" TargetType="ComboBox" BasedOn="{StaticResource ModernComboBox}">
        <Setter Property="ItemContainerStyle">
            <Setter.Value>
                <Style TargetType="ComboBoxItem" BasedOn="{StaticResource {x:Type ComboBoxItem}}">
                    <Setter Property="Padding" Value="12,8"/>
                    <Setter Property="FontSize" Value="14"/>
                    <Setter Property="ContentTemplate">
                        <Setter.Value>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <!-- 模型图标 -->
                                    <Border x:Name="ModelIcon"
                                            Background="{StaticResource AccentBrush}"
                                            CornerRadius="3"
                                            Width="20"
                                            Height="20"
                                            Margin="0,0,8,0">
                                        <TextBlock x:Name="ModelIconText"
                                                Text="🤖"
                                                FontSize="10"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"/>
                                    </Border>
                                    
                                    <!-- 模型名称 -->
                                    <TextBlock Text="{Binding}"
                                            VerticalAlignment="Center"
                                            FontFamily="Consolas, 'Courier New', monospace"/>
                                </StackPanel>
                                <DataTemplate.Triggers>
                                    <!-- GPT-4 系列 -->
                                    <DataTrigger Binding="{Binding}" Value="gpt-4">
                                        <Setter TargetName="ModelIconText" Property="Text" Value="4"/>
                                        <Setter TargetName="ModelIcon" Property="Background" Value="#10A37F"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding}" Value="gpt-4-turbo">
                                        <Setter TargetName="ModelIconText" Property="Text" Value="4T"/>
                                        <Setter TargetName="ModelIcon" Property="Background" Value="#10A37F"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding}" Value="gpt-4o">
                                        <Setter TargetName="ModelIconText" Property="Text" Value="4o"/>
                                        <Setter TargetName="ModelIcon" Property="Background" Value="#10A37F"/>
                                    </DataTrigger>
                                    
                                    <!-- GPT-3.5 系列 -->
                                    <DataTrigger Binding="{Binding}" Value="gpt-3.5-turbo">
                                        <Setter TargetName="ModelIconText" Property="Text" Value="3.5"/>
                                        <Setter TargetName="ModelIcon" Property="Background" Value="#10A37F"/>
                                    </DataTrigger>
                                    
                                    <!-- Gemini 系列 -->
                                    <DataTrigger Binding="{Binding}" Value="gemini-pro">
                                        <Setter TargetName="ModelIconText" Property="Text" Value="💎"/>
                                        <Setter TargetName="ModelIcon" Property="Background" Value="#4285F4"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding}" Value="gemini-1.5-pro">
                                        <Setter TargetName="ModelIconText" Property="Text" Value="💎"/>
                                        <Setter TargetName="ModelIcon" Property="Background" Value="#4285F4"/>
                                    </DataTrigger>
                                    
                                    <!-- Llama 系列 -->
                                    <DataTrigger Binding="{Binding}" Value="llama2">
                                        <Setter TargetName="ModelIconText" Property="Text" Value="🦙"/>
                                        <Setter TargetName="ModelIcon" Property="Background" Value="#FF6B35"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding}" Value="llama3">
                                        <Setter TargetName="ModelIconText" Property="Text" Value="🦙"/>
                                        <Setter TargetName="ModelIcon" Property="Background" Value="#FF6B35"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding}" Value="llama3.1">
                                        <Setter TargetName="ModelIconText" Property="Text" Value="🦙"/>
                                        <Setter TargetName="ModelIcon" Property="Background" Value="#FF6B35"/>
                                    </DataTrigger>
                                    
                                    <!-- CodeLlama 系列 -->
                                    <DataTrigger Binding="{Binding}" Value="codellama">
                                        <Setter TargetName="ModelIconText" Property="Text" Value="💻"/>
                                        <Setter TargetName="ModelIcon" Property="Background" Value="#059669"/>
                                    </DataTrigger>
                                    
                                    <!-- Mistral 系列 -->
                                    <DataTrigger Binding="{Binding}" Value="mistral">
                                        <Setter TargetName="ModelIconText" Property="Text" Value="🌪️"/>
                                        <Setter TargetName="ModelIcon" Property="Background" Value="#7C3AED"/>
                                    </DataTrigger>
                                    
                                    <!-- Phi 系列 -->
                                    <DataTrigger Binding="{Binding}" Value="phi3">
                                        <Setter TargetName="ModelIconText" Property="Text" Value="Φ"/>
                                        <Setter TargetName="ModelIcon" Property="Background" Value="#0078D4"/>
                                    </DataTrigger>
                                    
                                    <!-- Qwen 系列 -->
                                    <DataTrigger Binding="{Binding}" Value="qwen">
                                        <Setter TargetName="ModelIconText" Property="Text" Value="通"/>
                                        <Setter TargetName="ModelIcon" Property="Background" Value="#FF6600"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding}" Value="qwen2">
                                        <Setter TargetName="ModelIconText" Property="Text" Value="通"/>
                                        <Setter TargetName="ModelIcon" Property="Background" Value="#FF6600"/>
                                    </DataTrigger>
                                    
                                    <!-- 通用模式匹配 - 使用包含判断 -->
                                    <!-- 这些会在具体匹配失败后作为后备选项 -->
                                </DataTemplate.Triggers>
                            </DataTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>